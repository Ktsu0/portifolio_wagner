.loader {
  display: flex;
  width: 8rem;
  height: 8rem;
  justify-content: center;
  align-items: center;
  position: relative;
  transition: opacity 0.5s ease;
  animation: fadeIn 0s 10s forwards; 
  cursor: pointer;
}

.hidden {
  opacity: 0 !important;
  pointer-events: none !important;
  transition: opacity 0.5s ease !important;
}

.head {
  width: 100%;
  height: 100%;
  background-color: #0e5f229d;
  border-radius: 45% 37% 44% 31% / 49% 43% 32% 42%;
  animation: move 3s linear infinite;
  box-shadow: 0 1rem 1rem #0b2b20;
  filter: blur(0.3rem);
  z-index: 1;
}

.eye {
  display: flex;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 4rem;
  height: 4rem;
  background-color: #dadddfa4;
  border-radius: 50%;
  align-items: center;
  justify-content: center;
  z-index: 2;
  box-shadow: 0 0 1rem #000000;
}

.pupil {
  width: 1rem;
  height: 2rem;
  background-color: #000;
  border-radius: 50%;
  position: relative;
  transition: transform 0.1s ease, height 0.15s ease;
}

.flames {
  display: flex;
  position: absolute;
  z-index: 0;
}

.flames::before {
  content: "";
  position: absolute;
  width: 8rem;
  height: 8rem;
  background: #0e5f229d;
  filter: blur(5rem);
  opacity: 0.5;
  border-radius: 50%;
  top: -8rem;
  left: -4rem;
  z-index: 4;
  animation: pulse 3s linear infinite;
}

.particle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: #0e5f2269;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  opacity: 0;
}

#ghost.fade-out .particle {
  animation: disperse 1s forwards;
}

@keyframes disperse {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(
      calc(-50% + (var(--dx, 0px))),
      calc(-50% + (var(--dy, 0px)))
    ) scale(3);
    opacity: 0;
  }
}
.ghost-fog {
  position: absolute;
  width: 12rem;
  height: 12rem;
  background: radial-gradient(circle, #0e5f22 10%, transparent 70%);
  pointer-events: none;
  z-index: 0;
  top: 0;
  left: 0;
  opacity: 0;
  animation: fogMove 8s ease-in-out infinite;
  transition: opacity 1s ease;
  filter: blur(1.5rem);
}

.loader.hidden + .ghost-fog {
  opacity: 1;
}

@keyframes fogMove {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  50% {
    transform: translate(10px, -10px) scale(1.05);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.particle:nth-child(1) { width: 4rem; height: 4rem; top: -6rem; animation: move-particle 7s alternate-reverse infinite; }
.particle:nth-child(2) { width: 1.5rem; height: 1.5rem; top: -8rem; left: -5rem; animation: move-particle 1.5s ease-in-out reverse infinite; }
.particle:nth-child(3) { width: 4rem; height: 4rem; top: -5rem; left: -4rem; animation: move-particle 8s alternate-reverse infinite; }
.particle:nth-child(4) { width: 3rem; height: 3rem; top: -7.5rem; animation: move-particle 4s alternate-reverse infinite; }
.particle:nth-child(5) { width: 2rem; height: 2rem; top: -9rem; left: 1rem; animation: move-particle 2.5s alternate-reverse infinite; }
.particle:nth-child(6) { width: 2rem; height: 2rem; top: -6.8rem; left: -1.5rem; animation: move-particle 5s alternate-reverse infinite; }
.particle:nth-child(7) { width: 1rem; height: 1rem; top: -10rem; left: -1rem; animation: move-particle 1.2s alternate-reverse infinite; }
.particle:nth-child(8) { width: 1.3rem; height: 1.3rem; top: -7.5rem; left: -2rem; animation: move-particle 2.5s alternate-reverse infinite; }

@keyframes move {
  0% { transform: translate(0, 0); }
  50% { transform: translate(4px, 6px); }
  100% { transform: translate(0, 0); }
}

@keyframes move-particle {
  0% { transform: translate(0, 0); }
  50% { transform: translate(4px, 6px); }
  100% { transform: translate(0, 0); }
}

@keyframes pulse {
  0% { opacity: 0.5; }
  50% { opacity: 1; }
  100% { opacity: 0.5; }
}
@keyframes fadeOut {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}


@media (max-width: 800px) {
  .loader { width: 6rem; height: 6rem; }
  .head { filter: blur(0.2rem); }
  .eye { width: 3rem; height: 3rem; }
  .pupil { width: 0.8rem; height: 1.5rem; }
  .flames::before { width: 6rem; height: 6rem; top: -6rem; left: -3rem; }
}

@media (max-width: 480px) {
  .loader { width: 4rem; height: 4rem; justify-content: start; }
  .head { filter: blur(0.15rem); }
  .eye { width: 2rem; height: 2rem; }
  .pupil { width: 0.5rem; height: 1rem; }
  .flames::before { width: 4rem; height: 4rem; }
}
